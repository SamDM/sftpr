% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sftp.R
\name{sftp_writer}
\alias{sftp_writer}
\title{Wrap an R function that saves an object to a file, such that it works over SFTP}
\usage{
sftp_writer(fn, path_arg = NULL)
}
\arguments{
\item{fn}{A function that writes to a file (e.g., readr::write_tsv, saveRDS)}

\item{path_arg}{The name of the file path argument in fn. Can be unquoted or
a string. If NULL (default), auto-detects the first argument containing
"file" or "path" in its name.}
}
\value{
A wrapped function with the same signature as fn
}
\description{
Creates a wrapper around a file-writing function that transparently handles
SFTP URLs. Local paths are passed through unchanged to the original function.
}
\examples{
\dontrun{
write_tsv_sftp <- sftp_writer(readr::write_tsv)
write_tsv_sftp(my_df, "sftp://user @host/path/to/data.tsv.gz")
write_tsv_sftp(my_df, "/local/path/data.tsv")  # Also works locally
}

# Explicit path_arg (unquoted or quoted)
saveRDS_sftp <- sftp_writer(saveRDS, file)
saveRDS_sftp <- sftp_writer(saveRDS, "file")

}
