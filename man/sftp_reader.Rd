% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sftp.R
\name{sftp_reader}
\alias{sftp_reader}
\title{Wrap an R function that reads from a file, such that it works over SFTP}
\usage{
sftp_reader(fn, path_arg = NULL)
}
\arguments{
\item{fn}{A function that reads from a file (e.g., readr::read_tsv, readRDS)}

\item{path_arg}{The name of the file path argument in fn. Can be unquoted or
a string. If NULL (default), auto-detects the first argument containing
"file" or "path" in its name.}
}
\value{
A wrapped function with the same signature as fn
}
\description{
Creates a wrapper around a file-reading function that transparently handles
SFTP URLs. Local paths are passed through unchanged to the original function.
}
\examples{
\dontrun{
read_tsv_sftp <- sftp_reader(readr::read_tsv)
read_tsv_sftp("sftp://user@host/path/to/data.tsv.gz")
read_tsv_sftp("/local/path/data.tsv")  # Also works locally
}

# Explicit path_arg (unquoted or quoted)
readRDS_sftp <- sftp_reader(readRDS, file)
readRDS_sftp <- sftp_reader(readRDS, "file")

}
